<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Immigration & Massachusetts Population Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1"></script>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600;9..40,700;9..40,800&family=Instrument+Serif:ital@0;1&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#ffffff;--surface:#f8fafc;--surface2:#f1f5f9;
  --border:#e2e8f0;--border2:#cbd5e1;
  --text:#0f172a;--text2:#1e293b;--muted:#64748b;
  --accent:#dc2626;--blue:#2563eb;--green:#059669;--yellow:#d97706;
  --purple:#7c3aed;--cyan:#0891b2;--rose:#e11d48;
}
body{font-family:'DM Sans',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden}

/* ===== HERO ===== */
.hero{text-align:center;padding:2.5rem 2rem 1.8rem;
  background:linear-gradient(135deg,#1e3a5f 0%,#0f172a 40%,#1a1a2e 70%,#2d1b3d 100%);color:#fff;position:relative}
.hero::after{content:'';position:absolute;bottom:-1px;left:0;right:0;height:4px;
  background:linear-gradient(90deg,var(--accent),var(--blue),var(--purple))}
.hero h1{font-family:'Instrument Serif',serif;font-size:2.6rem;font-weight:400;
  letter-spacing:-1px;margin-bottom:.3rem}
.hero .sub{color:#94a3b8;font-size:.8rem;letter-spacing:.3px;margin-bottom:1.6rem;font-weight:300}
.hero .stat-row{display:flex;flex-wrap:wrap;justify-content:center;gap:.7rem}
.hero .stat-box{background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);
  border:1px solid rgba(255,255,255,0.15);border-radius:14px;padding:.9rem 1.3rem;min-width:135px;
  transition:transform .2s ease,background .2s ease}
.hero .stat-box:hover{transform:translateY(-2px);background:rgba(255,255,255,0.15)}
.hero .stat-box .num{font-family:'Instrument Serif',serif;font-size:1.7rem;font-weight:400;line-height:1.1}
.hero .stat-box .lbl{font-size:.58rem;text-transform:uppercase;letter-spacing:2px;color:#94a3b8;margin-top:.25rem;font-weight:500}

/* ===== SECTION TOGGLE ===== */
.section-toggle{display:flex;justify-content:center;gap:.5rem;padding:1rem 2rem;
  background:var(--surface);border-bottom:1px solid var(--border)}
.section-toggle button{padding:.55rem 1.5rem;border:2px solid var(--border);border-radius:100px;
  background:#fff;color:var(--muted);font-family:'DM Sans',sans-serif;font-size:.8rem;font-weight:700;
  cursor:pointer;transition:all .25s ease;letter-spacing:.3px}
.section-toggle button:hover{color:var(--text);border-color:var(--border2);background:var(--surface2)}
.section-toggle button.active{color:#fff;background:var(--accent);border-color:var(--accent);
  box-shadow:0 3px 12px rgba(220,38,38,0.3)}

/* ===== NAV TABS ===== */
nav{display:flex;gap:0;background:#fff;border-bottom:2px solid var(--border);overflow-x:auto;
  position:sticky;top:0;z-index:100;box-shadow:0 1px 3px rgba(0,0,0,0.04)}
nav button{flex:1;min-width:110px;padding:.8rem .5rem;background:none;border:none;
  color:var(--muted);font-family:'DM Sans',sans-serif;font-size:.7rem;font-weight:700;
  cursor:pointer;border-bottom:3px solid transparent;transition:all .2s ease;
  text-transform:uppercase;letter-spacing:1px;white-space:nowrap}
nav button:hover{color:var(--text);background:var(--surface)}
nav button.active{color:var(--accent);border-bottom-color:var(--accent);background:rgba(220,38,38,0.04)}

/* ===== LAYOUT ===== */
.container{max-width:1200px;margin:0 auto;padding:1.8rem 1.5rem}
.tab{display:none;animation:fadeIn .35s ease}.tab.active{display:block}
.section{display:none}.section.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}

.grid{display:grid;gap:1.2rem}
.grid-2{grid-template-columns:repeat(auto-fit,minmax(min(100%,460px),1fr))}
.grid-3{grid-template-columns:repeat(auto-fit,minmax(min(100%,320px),1fr))}

/* ===== CARDS ===== */
.card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:1.4rem;
  position:relative;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,0.04);transition:box-shadow .25s ease}
.card:hover{box-shadow:0 4px 12px rgba(0,0,0,0.08)}
.card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;
  background:linear-gradient(90deg,var(--accent),var(--blue))}
.card h3{font-size:.72rem;text-transform:uppercase;letter-spacing:1.5px;
  color:var(--accent);margin-bottom:.9rem;font-weight:700}
.card.full{grid-column:1/-1}

.chart-wrap{position:relative;height:300px}
.chart-wrap.tall{height:400px}
.chart-wrap.short{height:240px}

/* ===== KPI ===== */
.kpi-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.8rem;margin-bottom:1.4rem}
.kpi{background:#fff;border:2px solid var(--border);border-radius:14px;padding:.9rem;text-align:center;
  transition:transform .2s ease,border-color .2s ease,box-shadow .2s ease}
.kpi:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.06)}
.kpi .val{font-family:'Instrument Serif',serif;font-size:1.6rem;font-weight:400;line-height:1.1}
.kpi .lbl{font-size:.6rem;text-transform:uppercase;letter-spacing:1.5px;color:var(--muted);margin-top:.2rem;font-weight:600}

/* ===== CALLOUTS ===== */
.callout{padding:.85rem 1.1rem;border-radius:10px;font-size:.82rem;margin-bottom:.8rem;
  line-height:1.55;color:var(--text2)}
.callout strong{font-weight:700}
.callout-red{background:#fef2f2;border-left:4px solid var(--accent);color:#991b1b}
.callout-blue{background:#eff6ff;border-left:4px solid var(--blue);color:#1e40af}
.callout-yellow{background:#fffbeb;border-left:4px solid var(--yellow);color:#92400e}
.callout-green{background:#ecfdf5;border-left:4px solid var(--green);color:#065f46}

/* ===== TABLES ===== */
table{width:100%;border-collapse:collapse;font-size:.8rem;color:var(--text2)}
th{text-align:left;padding:.6rem .7rem;border-bottom:2px solid var(--border);
  color:var(--muted);text-transform:uppercase;letter-spacing:.8px;font-size:.62rem;font-weight:700;
  background:var(--surface)}
td{padding:.55rem .7rem;border-bottom:1px solid var(--border)}
tr:hover td{background:var(--surface)}

/* ===== MISC ===== */
.src{font-size:.65rem;color:var(--muted);margin-top:1rem;padding-top:.7rem;
  border-top:1px solid var(--border);font-style:italic}
.cycle{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:.35rem;font-size:.75rem;margin:.8rem 0;font-weight:600}
.cycle span{padding:.3rem .6rem;border-radius:8px}
.cycle .arrow{color:var(--muted);font-size:.9rem}
.footer{text-align:center;padding:2rem 1.5rem;font-size:.65rem;color:var(--muted);
  border-top:2px solid var(--border);margin-top:2rem;background:var(--surface);letter-spacing:.3px}
.footer a{color:var(--blue);text-decoration:none;font-weight:600}
.footer a:hover{text-decoration:underline}

::-webkit-scrollbar{height:5px;width:5px}
::-webkit-scrollbar-track{background:var(--surface)}
::-webkit-scrollbar-thumb{background:var(--border2);border-radius:4px}

@media(max-width:640px){
  .hero h1{font-size:1.9rem}
  .hero .stat-box{min-width:105px;padding:.7rem .9rem}
  .hero .stat-box .num{font-size:1.3rem}
  .section-toggle{flex-wrap:wrap}
  nav button{min-width:80px;font-size:.6rem;padding:.7rem .3rem}
}
</style>
</head>
<body>

<!-- HERO -->
<div class="hero">
<h1>Immigration & Massachusetts Population</h1>
<p class="sub">Official data from Census Bureau, CBP, ICE, IRS, DHS, CBO &bull; Updated February 2026</p>
<div class="stat-row">
<div class="stat-box"><div class="num" style="color:#f87171">10.8M</div><div class="lbl">Biden Encounters</div></div>
<div class="stat-box"><div class="num" style="color:#60a5fa">7.4M</div><div class="lbl">Net Stayed (est)</div></div>
<div class="stat-box"><div class="num" style="color:#34d399">-79%</div><div class="lbl">Trump 2.0 Drop</div></div>
<div class="stat-box"><div class="num" style="color:#fbbf24">137K</div><div class="lbl">MA Residents Left</div></div>
<div class="stat-box"><div class="num" style="color:#c084fc">$1.83B</div><div class="lbl">MA Shelter Cost</div></div>
</div>
</div>

<!-- SECTION TOGGLE -->
<div class="section-toggle">
<button class="active" onclick="showSection('national',this)">üá∫üá∏ National</button>
<button onclick="showSection('massachusetts',this)">üìç Massachusetts</button>
<button onclick="showSection('fiscal',this)">üí∞ Fiscal Impact</button>
</div>

<!-- NATIONAL NAV -->
<div id="nav-national" class="section active">
<nav>
<button class="active" onclick="showTab('n-overview',this)">Overview</button>
<button onclick="showTab('n-encounters',this)">Encounters</button>
<button onclick="showTab('n-inout',this)">In vs Out</button>
<button onclick="showTab('n-census',this)">Census Revision</button>
<button onclick="showTab('n-nosedive',this)">Nosedive</button>
</nav>
</div>

<!-- MA NAV -->
<div id="nav-massachusetts" class="section">
<nav>
<button class="active" onclick="showTab('m-overview',this)">Overview</button>
<button onclick="showTab('m-annual',this)">Annual Data</button>
<button onclick="showTab('m-cumulative',this)">Cumulative</button>
<button onclick="showTab('m-projection',this)">2030 Projection</button>
<button onclick="showTab('m-concentration',this)">Concentration</button>
<button onclick="showTab('m-reasons',this)">Why Leave</button>
</nav>
</div>

<!-- FISCAL NAV -->
<div id="nav-fiscal" class="section">
<nav>
<button class="active" onclick="showTab('f-overview',this)">Overview</button>
<button onclick="showTab('f-legal',this)">Legal vs Illegal</button>
<button onclick="showTab('f-shelter',this)">Shelter Crisis</button>
<button onclick="showTab('f-whopays',this)">Who Pays</button>
<button onclick="showTab('f-sources',this)">Sources</button>
</nav>
</div>

<!-- ==================== CONTENT ==================== -->
<div class="container">

<!-- ===== NATIONAL TABS ===== -->

<div id="n-overview" class="tab active" data-section="national">
<div class="grid grid-2">
<div class="card">
<h3>Administration Comparison</h3>
<table>
<tr><th></th><th>Obama (8yr)</th><th>Trump 1.0 (4yr)</th><th>Biden (4yr)</th><th>Trump 2.0</th></tr>
<tr><td><strong>Encounters</strong></td><td>~4.5M</td><td>~3.0M</td><td style="color:var(--accent);font-weight:700">~10.8M</td><td>‚Üì79%</td></tr>
<tr><td><strong>Deportations</strong></td><td>2.6M*</td><td>~0.5M</td><td>~0.6M</td><td>TBD</td></tr>
<tr><td><strong>Net Stayed</strong></td><td>~-0.3M</td><td>~0.9M</td><td style="color:var(--accent);font-weight:700">~7.4M</td><td>TBD</td></tr>
<tr><td><strong>Ratio In:Out</strong></td><td>0.9:1</td><td>2.8:1</td><td style="color:var(--accent);font-weight:700">13:1</td><td>TBD</td></tr>
</table>
<p class="src">*Obama includes "returns" (voluntary). Interior-only: Obama ~1.5-2M | Trump ~0.5M | Biden ~0.15-0.6M</p>
</div>
<div class="card">
<h3>The Math</h3>
<div class="callout callout-red"><strong>Under Biden:</strong> ~10.8M encountered nationwide. ~600K interior removals. = ~7.4M net stayed in the US.</div>
<div class="callout callout-blue"><strong>Census confirms:</strong> Net international migration of 2.8M in 2024 alone ‚Äî a record. 84% of all US population growth was from immigration.</div>
<div class="callout callout-yellow"><strong>Trump 2.0:</strong> FY2025 SWB encounters dropped to 237,538 (Oct-Feb) ‚Äî lowest pace since 1970.</div>
</div>
</div>
</div>

<div id="n-encounters" class="tab" data-section="national">
<div class="card full">
<h3>Southwest Border Encounters by Fiscal Year</h3>
<div class="chart-wrap"><canvas id="ch-encounters"></canvas></div>
<p class="src">Source: U.S. Customs and Border Protection. Includes apprehensions + inadmissibles. FY2025 is Oct 2024 ‚Äì Jan 2025 (partial).</p>
</div>
</div>

<div id="n-inout" class="tab" data-section="national">
<div class="grid grid-2">
<div class="card">
<h3>Who Came In (Biden FY21-24)</h3>
<div class="chart-wrap"><canvas id="ch-inout-in"></canvas></div>
</div>
<div class="card">
<h3>Who Was Removed</h3>
<div class="chart-wrap"><canvas id="ch-inout-out"></canvas></div>
</div>
</div>
<div class="callout callout-red" style="margin-top:1.2rem"><strong>Bottom line:</strong> ~10.8M encountered, ~600K interior removals over 4 years = 13:1 ratio. For every 1 person deported from the interior, 13+ entered and stayed.</div>
</div>

<div id="n-census" class="tab" data-section="national">
<div class="card full">
<h3>Census Bureau Methodology Revision ‚Äî December 2024</h3>
<div class="chart-wrap"><canvas id="ch-census"></canvas></div>
<div class="callout callout-yellow" style="margin-top:1.2rem"><strong>What happened:</strong> In Dec 2024, Census released "Vintage 2024" with new methodology adding DHS, State Dept, and IIE records. Retroactive revisions showed they had undercounted by 69‚Äì102%.</div>
</div>
</div>

<div id="n-nosedive" class="tab" data-section="national">
<div class="card full">
<h3>US Net International Migration ‚Äî Historic Decline</h3>
<div class="chart-wrap"><canvas id="ch-nosedive"></canvas></div>
<p class="src">Source: Census Bureau. 2025 proj based on FY2025 CBP pace (237K encounters Oct-Jan, annualized).</p>
</div>
</div>

<!-- ===== MASSACHUSETTS TABS ===== -->

<div id="m-overview" class="tab" data-section="massachusetts">
<div class="kpi-row">
<div class="kpi" style="border-color:#fecaca"><div class="val" style="color:var(--accent)">-137,702</div><div class="lbl">Residents Left</div></div>
<div class="kpi" style="border-color:#bfdbfe"><div class="val" style="color:var(--blue)">+296,081</div><div class="lbl">Immigrants Arrived</div></div>
<div class="kpi" style="border-color:#a7f3d0"><div class="val" style="color:var(--green)">+158,379</div><div class="lbl">Net Migration</div></div>
<div class="kpi" style="border-color:#ddd6fe"><div class="val" style="color:var(--purple)">$1.83B</div><div class="lbl">Shelter FY24-25</div></div>
</div>
<div class="callout callout-yellow">‚ö†Ô∏è <strong>2024-25 Changes:</strong> Immigration ‚Üì37% (90K‚Üí57K) | Exodus ‚Üë74% (19K‚Üí33K) | Census projects 75% more drop by 2026</div>
<div class="grid grid-2">
<div class="card">
<h3>Annual Migration Pattern</h3>
<div class="chart-wrap"><canvas id="ch-ma-overview"></canvas></div>
</div>
<div class="card">
<h3>The Bottom Line</h3>
<div class="callout callout-red"><strong>137,702</strong> residents left for other states since 2020.</div>
<div class="callout callout-blue"><strong>296,081</strong> immigrants arrived, covering the exodus <em>twice over</em>.</div>
<div class="callout callout-yellow"><strong>Without immigration, MA would have LOST ~112,000 people.</strong></div>
<p style="font-size:.8rem;color:var(--text2);margin-top:.8rem;line-height:1.6">Immigration is the <em>only</em> reason MA population grew. Now both trends are reversing.</p>
</div>
</div>
</div>

<div id="m-annual" class="tab" data-section="massachusetts">
<div class="card full">
<h3>Year-by-Year Migration Components</h3>
<table>
<tr><th>Year</th><th>Domestic</th><th>International</th><th>Natural</th><th>Net Total</th><th>Shelter Cost</th></tr>
<tr><td><strong>2020-21</strong></td><td style="color:var(--accent);font-weight:600">-1,762</td><td style="color:var(--blue);font-weight:600">+1,762</td><td>+6,034</td><td style="color:var(--green);font-weight:600">+6,034</td><td>‚Äî</td></tr>
<tr><td><strong>2021-22</strong></td><td style="color:var(--accent);font-weight:600">-48,000</td><td style="color:var(--blue);font-weight:600">+72,892</td><td>+5,200</td><td style="color:var(--green);font-weight:600">+30,092</td><td>~$60M</td></tr>
<tr><td><strong>2022-23</strong></td><td style="color:var(--accent);font-weight:600">-35,400</td><td style="color:var(--blue);font-weight:600">+74,610</td><td>+4,800</td><td style="color:var(--green);font-weight:600">+44,010</td><td>~$375M</td></tr>
<tr><td><strong>2023-24</strong></td><td style="color:var(--accent);font-weight:600">-19,200</td><td style="color:var(--blue);font-weight:600">+90,217</td><td>+4,500</td><td style="color:var(--green);font-weight:600">+75,517</td><td>$855M</td></tr>
<tr><td><strong>2024-25</strong></td><td style="color:var(--accent);font-weight:600">-33,340</td><td style="color:var(--blue);font-weight:600">+56,600</td><td>+4,200</td><td style="color:var(--green);font-weight:600">+27,460</td><td>$978M</td></tr>
<tr style="font-weight:800;border-top:3px solid var(--border2);background:var(--surface)"><td>TOTAL</td><td style="color:var(--accent)">-137,702</td><td style="color:var(--blue)">+296,081</td><td>+24,734</td><td style="color:var(--green)">+183,113</td><td>$2.27B</td></tr>
</table>
<div class="chart-wrap" style="margin-top:1.2rem"><canvas id="ch-ma-annual"></canvas></div>
</div>
</div>

<div id="m-cumulative" class="tab" data-section="massachusetts">
<div class="card full">
<h3>Cumulative Migration Since 2020</h3>
<div class="chart-wrap tall"><canvas id="ch-ma-cumulative"></canvas></div>
<p class="src">Source: Census Bureau Vintage 2025, IRS SOI Migration Data</p>
</div>
</div>

<div id="m-projection" class="tab" data-section="massachusetts">
<div class="card full">
<h3>Population Scenarios Through 2030</h3>
<div class="chart-wrap tall"><canvas id="ch-ma-projection"></canvas></div>
<table style="margin-top:1.2rem">
<tr><th>Scenario</th><th>Annual Œî</th><th>2030 Pop</th><th>9th Seat?</th></tr>
<tr><td><strong>Status Quo</strong></td><td>+40K</td><td>7.38M</td><td style="color:var(--green);font-weight:700">‚úÖ Safe</td></tr>
<tr><td><strong>Immigration Halved</strong></td><td>+6K</td><td>7.17M</td><td style="color:var(--green);font-weight:700">‚úÖ Safe</td></tr>
<tr><td><strong>Immigration Stops</strong></td><td>-33K</td><td>6.94M</td><td style="color:var(--green);font-weight:700">‚úÖ Safe</td></tr>
<tr><td><strong>No Immig + Peak Exodus</strong></td><td>-51K</td><td>6.83M</td><td style="color:var(--yellow);font-weight:700">‚ö†Ô∏è Close</td></tr>
<tr><td><strong>Deport + No Immig</strong></td><td>-34K</td><td>6.63M</td><td style="color:var(--accent);font-weight:700">‚ùå Loses</td></tr>
<tr><td><strong>Deport All + Exodus</strong></td><td>-52K</td><td>6.43M</td><td style="color:var(--accent);font-weight:700">‚ùå Loses</td></tr>
</table>
</div>
</div>

<div id="m-concentration" class="tab" data-section="massachusetts">
<div class="grid grid-2">
<div class="card">
<h3>Foreign-Born Population by City</h3>
<div class="chart-wrap tall"><canvas id="ch-foreignborn"></canvas></div>
</div>
<div class="card">
<h3>Multilingual Population Share</h3>
<div class="chart-wrap tall"><canvas id="ch-multilingual"></canvas></div>
</div>
</div>
<div class="grid grid-2" style="margin-top:1.2rem">
<div class="card">
<h3>Emergency Shelter Families ‚Äî Top Cities</h3>
<div class="chart-wrap tall"><canvas id="ch-shelter-cities"></canvas></div>
</div>
<div class="card">
<h3>Essex County Spotlight</h3>
<div class="callout callout-red"><strong>Lawrence:</strong> 35% foreign-born, 78.5% multilingual, 56% poverty rate for immigrant households</div>
<div class="callout callout-blue"><strong>Lynn:</strong> 31% foreign-born, largest Central American community north of Boston</div>
<div class="callout callout-yellow"><strong>Methuen:</strong> 23% foreign-born, fastest-growing immigrant pop in Essex County</div>
<div class="callout callout-green"><strong>Geographic pattern:</strong> 60-mile radius of Beacon Hill. Inner-ring cities bear disproportionate burden while wealthier suburbs remain largely unaffected.</div>
<h3 style="margin-top:1.2rem">Fastest-Growing (2011‚Äì2021)</h3>
<table>
<tr><th>City</th><th>Change</th></tr>
<tr><td><strong>Revere</strong></td><td style="color:var(--accent);font-weight:700">+11pp</td></tr>
<tr><td><strong>Boxborough</strong></td><td style="color:var(--accent);font-weight:700">+9pp</td></tr>
<tr><td><strong>Marlborough</strong></td><td style="color:var(--accent);font-weight:700">+8pp</td></tr>
<tr><td><strong>Waltham</strong></td><td style="color:var(--accent);font-weight:700">+7pp</td></tr>
<tr><td><strong>Framingham</strong></td><td style="color:var(--accent);font-weight:700">+6pp</td></tr>
</table>
</div>
</div>
</div>

<div id="m-reasons" class="tab" data-section="massachusetts">
<div class="grid grid-2">
<div class="card">
<h3>Why People Leave ‚Äî BU Study (2024)</h3>
<div class="chart-wrap"><canvas id="ch-reasons"></canvas></div>
</div>
<div class="card">
<h3>Tax Comparison</h3>
<table>
<tr><th>State</th><th>Income Tax</th><th>Sales Tax</th><th>Burden</th></tr>
<tr><td><strong>Massachusetts</strong></td><td>9% (flat+surtax)</td><td>6.25%</td><td style="color:var(--accent);font-weight:700">‚ñ† High</td></tr>
<tr><td><strong>Florida</strong></td><td>0%</td><td>6%</td><td style="color:var(--green);font-weight:700">‚ñ† Low</td></tr>
<tr><td><strong>New Hampshire</strong></td><td>0%</td><td>0%</td><td style="color:var(--green);font-weight:700">‚ñ† Low</td></tr>
<tr><td><strong>Texas</strong></td><td>0%</td><td>6.25%</td><td style="color:var(--green);font-weight:700">‚ñ† Low</td></tr>
<tr><td><strong>N. Carolina</strong></td><td>4.5%</td><td>4.75%</td><td style="color:var(--yellow);font-weight:700">‚ñ† Medium</td></tr>
</table>
<h3 style="margin-top:1.2rem">The Vicious Cycle</h3>
<div class="cycle">
<span style="background:#fef2f2;color:#991b1b;border:1px solid #fecaca">High taxes</span><span class="arrow">‚Üí</span>
<span style="background:#fef2f2;color:#991b1b;border:1px solid #fecaca">Residents leave</span><span class="arrow">‚Üí</span>
<span style="background:#eff6ff;color:#1e40af;border:1px solid #bfdbfe">Immigration replaces</span><span class="arrow">‚Üí</span>
<span style="background:#f5f3ff;color:#5b21b6;border:1px solid #ddd6fe">$1.83B shelters</span><span class="arrow">‚Üí</span>
<span style="background:#fef2f2;color:#991b1b;border:1px solid #fecaca">More taxes</span><span class="arrow">‚Üí</span>
<span style="font-size:1.1rem">üîÑ</span>
</div>
</div>
</div>
</div>

<!-- ===== FISCAL TABS ===== -->

<div id="f-overview" class="tab" data-section="fiscal">
<div class="kpi-row">
<div class="kpi" style="border-color:#a7f3d0"><div class="val" style="color:var(--green)">$14.5T</div><div class="lbl">Cato Surplus Claim</div></div>
<div class="kpi" style="border-color:#fecaca"><div class="val" style="color:var(--accent)">$9.2B</div><div class="lbl">CBO State/Local Cost</div></div>
<div class="kpi" style="border-color:#bfdbfe"><div class="val" style="color:var(--blue)">$2.27B</div><div class="lbl">MA Annual Cost</div></div>
<div class="kpi" style="border-color:#fde68a"><div class="val" style="color:var(--yellow)">$96.7B</div><div class="lbl">Undoc Tax Payments</div></div>
</div>
<div class="callout callout-yellow"><strong>Central Contradiction:</strong> Cato/NASEM claims $14.5T cumulative federal surplus (1994-2023) from immigrants. CBO simultaneously finds $9.2B net cost to state/local governments in 2023 alone. Both are true ‚Äî because costs concentrate at state/local level while taxes flow to the federal government.</div>
<div class="grid grid-2">
<div class="card">
<h3>Federal vs State/Local Mismatch</h3>
<div class="chart-wrap"><canvas id="ch-fiscal-mismatch"></canvas></div>
</div>
<div class="card">
<h3>Cato Paper Claims ‚Äî Fact Check</h3>
<table>
<tr><th>Claim</th><th>Verdict</th></tr>
<tr><td>$14.5T cumulative surplus</td><td style="color:var(--yellow);font-weight:700">‚ö†Ô∏è Lumps legal+illegal</td></tr>
<tr><td>81% from college grads</td><td style="color:var(--green);font-weight:700">‚úÖ Verified (NASEM)</td></tr>
<tr><td>44% less likely incarcerated</td><td style="color:var(--green);font-weight:700">‚úÖ Verified (Cato/BJS)</td></tr>
<tr><td>Every year net positive</td><td style="color:var(--yellow);font-weight:700">‚ö†Ô∏è Federal only</td></tr>
<tr><td>Noncitizens: $6.3T of $14.5T</td><td style="color:var(--green);font-weight:700">‚úÖ Verified</td></tr>
<tr><td>Doesn't separate legal/illegal</td><td style="color:var(--accent);font-weight:700">‚ùå Deliberate omission</td></tr>
</table>
</div>
</div>
</div>

<div id="f-legal" class="tab" data-section="fiscal">
<div class="card full">
<h3>Legal vs Illegal ‚Äî Net Fiscal Impact</h3>
<div class="chart-wrap"><canvas id="ch-legal-illegal"></canvas></div>
<div class="callout callout-red" style="margin-top:1.2rem"><strong>Key finding:</strong> Legal immigrants are net positive at all government levels. Illegal immigrants are net negative at state/local level, where costs for education, healthcare, and shelter concentrate.</div>
</div>
</div>

<div id="f-shelter" class="tab" data-section="fiscal">
<div class="card full">
<h3>MA Emergency Shelter Spending Timeline</h3>
<div class="chart-wrap"><canvas id="ch-shelter-timeline"></canvas></div>
<div class="grid grid-3" style="margin-top:1.2rem">
<div class="callout callout-red"><strong>FY24 Actual:</strong> $855M</div>
<div class="callout callout-red"><strong>FY25 Actual:</strong> $978M</div>
<div class="callout callout-green"><strong>FY26 Budget:</strong> $276M (down 72%)</div>
</div>
<div class="callout callout-yellow"><strong>Cost per family:</strong> $3,496/week ($181,792/year). MA Auditor found billing irregularities in 15% of sampled invoices.</div>
</div>
</div>

<div id="f-whopays" class="tab" data-section="fiscal">
<div class="card full">
<h3>Regressive Burden ‚Äî Who Pays as % of Income</h3>
<div class="chart-wrap"><canvas id="ch-whopays"></canvas></div>
<div class="callout callout-red" style="margin-top:1.2rem"><strong>Bottom line:</strong> Working poor pay 2.1% of income toward immigration costs. Wealthy households pay 0.13%. The burden is deeply regressive.</div>
</div>
</div>

<div id="f-sources" class="tab" data-section="fiscal">
<div class="card full">
<h3>All Data Sources & Citations</h3>
<div class="grid grid-3">
<div>
<h3 style="color:var(--accent);margin-bottom:.6rem">Federal Data</h3>
<ul style="font-size:.78rem;color:var(--text2);list-style:none;line-height:2.1">
<li>‚Ä¢ CBP: cbp.gov/newsroom/stats</li>
<li>‚Ä¢ Census: census.gov</li>
<li>‚Ä¢ CBO: cbo.gov (June 2025)</li>
<li>‚Ä¢ DHS OHSS: ohss.dhs.gov</li>
<li>‚Ä¢ IRS SOI: irs.gov/statistics</li>
<li>‚Ä¢ ICE: ice.gov/statistics</li>
</ul>
</div>
<div>
<h3 style="color:var(--blue);margin-bottom:.6rem">Research</h3>
<ul style="font-size:.78rem;color:var(--text2);list-style:none;line-height:2.1">
<li>‚Ä¢ Cato/NASEM White Paper (2025)</li>
<li>‚Ä¢ ITEP Tax Contributions (2024)</li>
<li>‚Ä¢ TRAC Syracuse (FOIA data)</li>
<li>‚Ä¢ BU Finance Study (2024)</li>
<li>‚Ä¢ CIS/FAIR Cost Estimates</li>
<li>‚Ä¢ Pew Research Center</li>
</ul>
</div>
<div>
<h3 style="color:var(--green);margin-bottom:.6rem">Massachusetts</h3>
<ul style="font-size:.78rem;color:var(--text2);list-style:none;line-height:2.1">
<li>‚Ä¢ EOHLC Shelter Data</li>
<li>‚Ä¢ MA DTA (SNAP/Welfare)</li>
<li>‚Ä¢ MassHealth Enrollment</li>
<li>‚Ä¢ MA DOC (Criminal Justice)</li>
<li>‚Ä¢ WBUR/Boston Herald</li>
<li>‚Ä¢ MA State Auditor Reports</li>
</ul>
</div>
</div>
</div>
</div>

</div><!-- /container -->

<div class="footer">
Data compiled February 2026 &bull; All data from official government sources &bull;
<a href="https://github.com/duncanburns2013-dot/Immigration">View on GitHub</a>
</div>

<script>
Chart.defaults.color='#475569';
Chart.defaults.borderColor='#e2e8f0';
Chart.defaults.font.family="'DM Sans',sans-serif";
Chart.defaults.font.size=11;
Chart.defaults.font.weight=500;
Chart.defaults.plugins.legend.labels.boxWidth=10;
Chart.defaults.plugins.legend.labels.padding=16;
Chart.defaults.plugins.legend.labels.usePointStyle=true;
Chart.defaults.plugins.tooltip.backgroundColor='#0f172a';
Chart.defaults.plugins.tooltip.titleColor='#f8fafc';
Chart.defaults.plugins.tooltip.bodyColor='#e2e8f0';
Chart.defaults.plugins.tooltip.borderColor='#334155';
Chart.defaults.plugins.tooltip.borderWidth=1;
Chart.defaults.plugins.tooltip.cornerRadius=8;
Chart.defaults.plugins.tooltip.padding=10;
Chart.defaults.plugins.tooltip.titleFont={size:12,weight:'700'};
Chart.defaults.plugins.tooltip.bodyFont={size:11,weight:'500'};
Chart.defaults.elements.bar.borderRadius=5;
Chart.defaults.elements.bar.borderWidth=0;
Chart.defaults.elements.point.radius=4;
Chart.defaults.elements.point.hoverRadius=6;
Chart.defaults.elements.line.tension=0.3;

var R='#dc2626',B='#2563eb',G='#059669',Y='#d97706',P='#7c3aed',C='#0891b2',W='#94a3b8';
var GC='#f1f5f9';
var charts={};
var currentSection='national';

function showSection(id,btn){
  currentSection=id;
  document.querySelectorAll('.section').forEach(function(s){s.classList.remove('active')});
  document.querySelectorAll('.section-toggle button').forEach(function(b){b.classList.remove('active')});
  document.getElementById('nav-'+id).classList.add('active');
  btn.classList.add('active');
  document.querySelectorAll('.tab').forEach(function(t){t.classList.remove('active')});
  var navBtns=document.getElementById('nav-'+id).querySelectorAll('nav button');
  navBtns.forEach(function(b){b.classList.remove('active')});
  if(navBtns.length>0){navBtns[0].classList.add('active');navBtns[0].click()}
}

function showTab(id,btn){
  var prefix=id.split('-')[0]+'-';
  document.querySelectorAll('.tab').forEach(function(t){if(t.id.indexOf(prefix)===0)t.classList.remove('active')});
  var navEl=document.getElementById('nav-'+currentSection);
  navEl.querySelectorAll('nav button').forEach(function(b){b.classList.remove('active')});
  document.getElementById(id).classList.add('active');
  btn.classList.add('active');
  if(!charts[id]){charts[id]=true;setTimeout(function(){initChart(id)},60)}
}

function initChart(id){
  switch(id){
    case 'n-encounters':
      new Chart(document.getElementById('ch-encounters'),{type:'bar',data:{
        labels:['FY17','FY18','FY19','FY20','FY21','FY22','FY23','FY24','FY25*'],
        datasets:[{label:'SW Border Encounters',
          data:[415517,521090,977509,458088,1734686,2378944,3201144,2900000,237538],
          backgroundColor:function(ctx){return ctx.index<=3?R:ctx.index<=7?B:G}}]
      },options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},
        scales:{y:{ticks:{callback:function(v){return(v/1000000).toFixed(1)+'M'},color:'#334155'},grid:{color:GC}},x:{grid:{display:false},ticks:{color:'#334155'}}}}});
      break;
    case 'n-inout':
      new Chart(document.getElementById('ch-inout-in'),{type:'doughnut',data:{
        labels:['Released into US','Title 42 Expelled','Gotaways (est)','Other Removals'],
        datasets:[{data:[5500000,2800000,1800000,700000],
          backgroundColor:[R,G,Y,B],borderColor:'#fff',borderWidth:3}]
      },options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'bottom'}},cutout:'50%'}});
      new Chart(document.getElementById('ch-inout-out'),{type:'bar',data:{
        labels:['Title 42','Border Removals','Interior Removals'],
        datasets:[{label:'Removed',data:[2800000,700000,600000],backgroundColor:[G,B,P]}]
      },options:{responsive:true,maintainAspectRatio:false,indexAxis:'y',
        scales:{x:{ticks:{callback:function(v){return(v/1000000).toFixed(1)+'M'},color:'#334155'},grid:{color:GC}},y:{grid:{display:false},ticks:{color:'#334155'}}}}});
      break;
    case 'n-census':
      new Chart(document.getElementById('ch-census'),{type:'bar',data:{
        labels:['2021-22','2022-23','2023-24'],
        datasets:[
          {label:'Old Estimate',data:[1000000,1100000,null],backgroundColor:'#cbd5e1'},
          {label:'Revised (Vintage 2024)',data:[1700000,2300000,2800000],backgroundColor:[Y,Y,R]}
        ]
      },options:{responsive:true,maintainAspectRatio:false,
        scales:{y:{ticks:{callback:function(v){return(v/1000000).toFixed(1)+'M'},color:'#334155'},grid:{color:GC}},x:{grid:{display:false},ticks:{color:'#334155'}}}}});
      break;
    case 'n-nosedive':
      var el=document.getElementById('ch-nosedive'),cx=el.getContext('2d');
      var g=cx.createLinearGradient(0,0,0,300);g.addColorStop(0,'rgba(220,38,38,0.15)');g.addColorStop(1,'rgba(220,38,38,0)');
      new Chart(el,{type:'line',data:{
        labels:['2019','2020','2021','2022','2023','2024','2025 proj'],
        datasets:[{label:'US Net International Migration',
          data:[1031000,477000,376000,1700000,2300000,2800000,321000],
          borderColor:R,backgroundColor:g,fill:true,borderWidth:3,
          pointBackgroundColor:[R,R,R,R,R,R,G],pointBorderColor:'#fff',pointBorderWidth:2,pointRadius:6}]
      },options:{responsive:true,maintainAspectRatio:false,
        scales:{y:{ticks:{callback:function(v){return(v/1000000).toFixed(1)+'M'},color:'#334155'},grid:{color:GC}},x:{grid:{display:false},ticks:{color:'#334155'}}}}});
      break;
    case 'm-overview':
      new Chart(document.getElementById('ch-ma-overview'),{type:'bar',data:{
        labels:['2020-21','2021-22','2022-23','2023-24','2024-25'],
        datasets:[
          {label:'Residents Left',data:[-1762,-48000,-35400,-19200,-33340],backgroundColor:R},
          {label:'Immigrants Arrived',data:[1762,72892,74610,90217,56600],backgroundColor:B}
        ]
      },options:{responsive:true,maintainAspectRatio:false,
        scales:{y:{ticks:{callback:function(v){return(v/1000)+'K'},color:'#334155'},grid:{color:GC}},x:{grid:{display:false},ticks:{color:'#334155'}}}}});
      break;
    case 'm-annual':
      new Chart(document.getElementById('ch-ma-annual'),{type:'bar',data:{
        labels:['2020-21','2021-22','2022-23','2023-24','2024-25'],
        datasets:[
          {label:'Domestic',data:[-1762,-48000,-35400,-19200,-33340],backgroundColor:R},
          {label:'International',data:[1762,72892,74610,90217,56600],backgroundColor:B},
          {label:'Net Total',data:[6034,30092,44010,75517,27460],type:'line',borderColor:'#0f172a',pointBackgroundColor:'#0f172a',borderWidth:2,pointRadius:5}
        ]
      },options:{responsive:true,maintainAspectRatio:false,
        scales:{y:{ticks:{callback:function(v){return(v/1000)+'K'},color:'#334155'},grid:{color:GC}},x:{grid:{display:false},ticks:{color:'#334155'}}}}});
      break;
    case 'm-cumulative':
      var el2=document.getElementById('ch-ma-cumulative'),cx2=el2.getContext('2d');
      var gB=cx2.createLinearGradient(0,0,0,400);gB.addColorStop(0,'rgba(37,99,235,0.12)');gB.addColorStop(1,'rgba(37,99,235,0)');
      var gR=cx2.createLinearGradient(0,200,0,400);gR.addColorStop(0,'rgba(220,38,38,0)');gR.addColorStop(1,'rgba(220,38,38,0.12)');
      new Chart(el2,{type:'line',data:{
        labels:['2020','2021','2022','2023','2024','2025'],
        datasets:[
          {label:'Immigrants Arrived',data:[0,1762,74654,149264,239481,296081],borderColor:B,backgroundColor:gB,fill:true,borderWidth:3},
          {label:'Net Migration',data:[0,0,24892,64102,135119,158379],borderColor:G,backgroundColor:'transparent',borderWidth:3},
          {label:'Residents Left',data:[0,-1762,-49762,-85162,-104362,-137702],borderColor:R,backgroundColor:gR,fill:true,borderWidth:3}
        ]
      },options:{responsive:true,maintainAspectRatio:false,
        scales:{y:{ticks:{callback:function(v){return(v/1000)+'K'},color:'#334155'},grid:{color:GC}},x:{grid:{display:false},ticks:{color:'#334155'}}}}});
      break;
    case 'm-projection':
      new Chart(document.getElementById('ch-ma-projection'),{type:'line',data:{
        labels:['2025','2026','2027','2028','2029','2030'],
        datasets:[
          {label:'Status Quo',data:[7.15,7.19,7.23,7.27,7.31,7.38],borderColor:B,backgroundColor:'transparent',borderWidth:2},
          {label:'LIKELY',data:[7.15,7.16,7.15,7.12,7.08,7.03],borderColor:Y,backgroundColor:'transparent',borderWidth:3},
          {label:'Pessimistic',data:[7.15,7.14,7.10,7.04,6.96,6.87],borderColor:R,backgroundColor:'transparent',borderWidth:2},
          {label:'Worst Case',data:[7.15,7.12,7.05,6.95,6.83,6.70],borderColor:P,backgroundColor:'transparent',borderWidth:2},
          {label:'Seat Loss (6.79M)',data:[6.79,6.79,6.79,6.79,6.79,6.79],borderColor:'#ef4444',backgroundColor:'transparent',borderWidth:2,borderDash:[6,4],pointRadius:0}
        ]
      },options:{responsive:true,maintainAspectRatio:false,
        scales:{y:{min:6.5,max:7.5,ticks:{callback:function(v){return v+'M'},color:'#334155'},grid:{color:GC}},x:{grid:{display:false},ticks:{color:'#334155'}}}}});
      break;
    case 'm-concentration':
      new Chart(document.getElementById('ch-foreignborn'),{type:'bar',data:{
        labels:['Chelsea','Revere','Lawrence','Lynn','Everett','Malden','Framingham','Waltham','Brockton','Lowell','Boston','Quincy','Somerville','Methuen','Worcester','Springfield'],
        datasets:[{label:'Foreign-Born %',data:[44,38,35,35,34,33,32,31,31,30,29,28,27,23,22,19],backgroundColor:B}]
      },options:{responsive:true,maintainAspectRatio:false,indexAxis:'y',
        scales:{x:{max:50,ticks:{callback:function(v){return v+'%'},color:'#334155'},grid:{color:GC}},y:{grid:{display:false},ticks:{color:'#334155',font:{size:10}}}}}});
      new Chart(document.getElementById('ch-multilingual'),{type:'bar',data:{
        labels:['Lawrence','Chelsea','Revere','Everett','Lynn','Framingham','Brockton','Lowell','Malden','Waltham'],
        datasets:[{label:'Multilingual %',data:[78.5,70.4,58.3,55.1,52.6,48.2,45.1,44.8,43.5,42.1],backgroundColor:P}]
      },options:{responsive:true,maintainAspectRatio:false,indexAxis:'y',
        scales:{x:{max:85,ticks:{callback:function(v){return v+'%'},color:'#334155'},grid:{color:GC}},y:{grid:{display:false},ticks:{color:'#334155',font:{size:10}}}}}});
      new Chart(document.getElementById('ch-shelter-cities'),{type:'bar',data:{
        labels:['Boston','Worcester','Springfield','Lynn','Brockton','Lowell','Chelsea','Lawrence','Revere','Framingham'],
        datasets:[{label:'Shelter Families',data:[1309,412,287,245,198,176,165,142,138,121],backgroundColor:R}]
      },options:{responsive:true,maintainAspectRatio:false,indexAxis:'y',
        scales:{x:{grid:{color:GC},ticks:{color:'#334155'}},y:{grid:{display:false},ticks:{color:'#334155',font:{size:10}}}}}});
      break;
    case 'm-reasons':
      new Chart(document.getElementById('ch-reasons'),{type:'bar',data:{
        labels:['Taxes','Housing Costs','Healthcare','Traffic / QoL'],
        datasets:[{label:'Importance',data:[100,95,85,70],backgroundColor:[R,'#e11d48','#be123c','#9f1239']}]
      },options:{responsive:true,maintainAspectRatio:false,indexAxis:'y',
        scales:{x:{max:110,grid:{color:GC},ticks:{color:'#334155'}},y:{grid:{display:false},ticks:{color:'#334155'}}},plugins:{legend:{display:false}}}});
      break;
    case 'f-overview':
      new Chart(document.getElementById('ch-fiscal-mismatch'),{type:'bar',data:{
        labels:['Federal','State/Local'],
        datasets:[
          {label:'Legal Immigrants',data:[8500,-2100],backgroundColor:B},
          {label:'Illegal/Undocumented',data:[1200,-9200],backgroundColor:R}
        ]
      },options:{responsive:true,maintainAspectRatio:false,
        scales:{y:{ticks:{callback:function(v){return(v>=0?'+':'')+('$')+Math.abs(v/1000)+'B'},color:'#334155'},grid:{color:GC}},x:{grid:{display:false},ticks:{color:'#334155'}}}}});
      break;
    case 'f-legal':
      new Chart(document.getElementById('ch-legal-illegal'),{type:'bar',data:{
        labels:['Fed Revenue','Fed Cost','State Rev','State Cost','Net Federal','Net State/Local'],
        datasets:[
          {label:'Legal Immigrants',data:[12000,3500,4500,6600,8500,-2100],backgroundColor:B},
          {label:'Illegal/Undocumented',data:[1600,400,1400,10600,1200,-9200],backgroundColor:R}
        ]
      },options:{responsive:true,maintainAspectRatio:false,
        scales:{y:{ticks:{callback:function(v){return'$'+Math.abs(v/1000)+'B'},color:'#334155'},grid:{color:GC}},x:{grid:{display:false},ticks:{maxRotation:45,color:'#334155'}}}}});
      break;
    case 'f-shelter':
      new Chart(document.getElementById('ch-shelter-timeline'),{type:'bar',data:{
        labels:['FY22','FY23','FY24','FY25','FY26 (budget)'],
        datasets:[{label:'Spending ($M)',data:[60,375,855,978,276],
          backgroundColor:[W,Y,R,'#b91c1c',G]}]
      },options:{responsive:true,maintainAspectRatio:false,
        scales:{y:{ticks:{callback:function(v){return'$'+v+'M'},color:'#334155'},grid:{color:GC}},x:{grid:{display:false},ticks:{color:'#334155'}}}}});
      break;
    case 'f-whopays':
      new Chart(document.getElementById('ch-whopays'),{type:'bar',data:{
        labels:['Bottom 20%\n(<$25K)','20-40%\n($25-50K)','40-60%\n($50-75K)','60-80%\n($75-125K)','Top 20%\n($125K+)'],
        datasets:[{label:'% of Income',data:[2.1,1.4,0.9,0.5,0.13],
          backgroundColor:[R,'#e11d48',Y,B,G]}]
      },options:{responsive:true,maintainAspectRatio:false,
        scales:{y:{ticks:{callback:function(v){return v+'%'},color:'#334155'},grid:{color:GC}},x:{grid:{display:false},ticks:{color:'#334155'}}},plugins:{legend:{display:false}}}});
      break;
  }
}
initChart('n-overview');
</script>
</body>
</html>
